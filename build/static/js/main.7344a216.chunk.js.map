{"version":3,"sources":["Menu.js","Sonido.js","tfj.js","reducers.js","actions.js","store.js","App.js","sigin.js","index.js"],"names":["Menu","window","addEventListener","event","document","hidden","alert","className","to","id","Component","Sonido","$","text","recognition","webkitSpeechRecognition","continuous","interimResults","lang","start","onstart","onend","onresult","interim_transcript","final_transcript","results","stop","i","resultIndex","length","isFinal","transcript","html","Videocam","props","net","ready","webcamElement","getElementById","Width","Height","classifier","knnClassifier","a","console","log","mobilenet","tf","webcam","addExample","classId","capture","img","activation","infer","dispose","getNumClasses","predictClass","result","classes","innerText","label","confidences","app","autoplay","playsinline","muted","initialState","reducer","state","action","type","payload","storeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","configureStore","App","path","component","CLIENT_ID","GoogleBtn","isLogined","accessToken","login","bind","handleLoginFailure","logout","handleLogoutFailure","response","this","setState","dispatch","clientId","buttonText","onLogoutSuccess","onFailure","onSuccess","cookiePolicy","responseType","connect","rootElement","ReactDOM","render","url","width","height","display","position"],"mappings":"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","file":"static/js/main.7344a216.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Menu extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"visibilitychange\", (event) => {\r\n      if (document.hidden) {\r\n        alert(\"estoy\");\r\n      } else {\r\n        alert(\"me fui\");\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Sistema de VideoFraude CETEC</h2>\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li>\r\n              <Link to={\"/\"} className=\"nav-link\">\r\n                {\" \"}\r\n                Home{\" \"}\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link to={\"/Videocam\"} className=\"nav-link\">\r\n                Link al video\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <hr />\r\n        <div id=\"console\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\n\r\nclass Sonido extends Component {\r\n  componentDidMount() {\r\n    if (!(\"webkitSpeechRecognition\" in window)) {\r\n      $(\"#text\").text(\"Web speech API not present\");\r\n    } else {\r\n      $(\"#text\").text(\"Initializing....\");\r\n\r\n      var recognition = new window.webkitSpeechRecognition();\r\n\r\n      recognition.continuous = true;\r\n      recognition.interimResults = true;\r\n      recognition.lang = \"es-AR\";\r\n      recognition.start();\r\n\r\n      recognition.onstart = function (event) {\r\n        $(\"#text\").text(\"I'm listening. Go ahead and speak into the mic.\");\r\n      };\r\n\r\n      recognition.onend = function (event) {};\r\n\r\n      recognition.onresult = function (event) {\r\n        var interim_transcript = \"\";\r\n        var final_transcript = \"\";\r\n        if (typeof event.results === \"undefined\") {\r\n          recognition.onend = null;\r\n          recognition.stop();\r\n          return;\r\n        }\r\n\r\n        for (var i = event.resultIndex; i < event.results.length; ++i) {\r\n          if (event.results[i].isFinal) {\r\n            final_transcript += event.results[i][0].transcript;\r\n          } else {\r\n            interim_transcript += event.results[i][0].transcript;\r\n          }\r\n        }\r\n\r\n        $(\"#text\").html(\r\n          final_transcript +\r\n            \" \" +\r\n            '<span style=\"color: #aaa\">' +\r\n            interim_transcript +\r\n            \"</span>\"\r\n        );\r\n      };\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div id=\"text\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Sonido;\r\n","import React, { Component } from \"react\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\nimport * as mobilenet from \"@tensorflow-models/mobilenet\";\r\nimport * as knnClassifier from \"@tensorflow-models/knn-classifier\";\r\nimport $ from \"jquery\";\r\nimport Sonido from \"./Sonido\";\r\n\r\nclass Videocam extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    var net;\r\n    $(document).ready(function () {\r\n      window.webcamElement = document.getElementById(\"webcam\");\r\n      window.webcamElement.Width = 224;\r\n      window.webcamElement.Height = 224;\r\n    });\r\n    const classifier = knnClassifier.create();\r\n\r\n    async function app() {\r\n      console.log(\"Loading mobilenet..\");\r\n\r\n      // Load the model.\r\n      net = await mobilenet.load();\r\n      console.log(\"Successfully loaded model\");\r\n\r\n      // Create an object from Tensorflow.js data API which could capture image\r\n      // from the web camera as Tensor.\r\n      const webcam = await tf.data.webcam(window.webcamElement);\r\n      // Reads an image from the webcam and associates it with a specific class\r\n      // index.\r\n\r\n      const addExample = async (classId) => {\r\n        // Capture an image from the web camera.\r\n        const img = await webcam.capture();\r\n\r\n        // Get the intermediate activation of MobileNet 'conv_preds' and pass that\r\n        // to the KNN classifier.\r\n        const activation = net.infer(img, true);\r\n\r\n        // Pass the intermediate activation to the classifier.\r\n        classifier.addExample(activation, classId);\r\n\r\n        // Dispose the tensor to release the memory.\r\n        img.dispose();\r\n      };\r\n\r\n      // When clicking a button, add an example for that class.\r\n      document\r\n        .getElementById(\"class-a\")\r\n        .addEventListener(\"click\", () => addExample(0));\r\n      document\r\n        .getElementById(\"class-b\")\r\n        .addEventListener(\"click\", () => addExample(1));\r\n      document\r\n        .getElementById(\"class-c\")\r\n        .addEventListener(\"click\", () => addExample(2));\r\n\r\n      while (true) {\r\n        if (classifier.getNumClasses() > 0) {\r\n          const img = await webcam.capture();\r\n\r\n          // Get the activation from mobilenet from the webcam.\r\n          const activation = net.infer(img, \"conv_preds\");\r\n          // Get the most likely class and confidence from the classifier module.\r\n          const result = await classifier.predictClass(activation);\r\n\r\n          const classes = [\"A\", \"B\", \"C\"];\r\n          document.getElementById(\"console\").innerText = `\r\n        prediction: ${classes[result.label]}\\n\r\n        probability: ${result.confidences[result.label]}\r\n      `;\r\n\r\n          // Dispose the tensor to release the memory.\r\n          img.dispose();\r\n        }\r\n\r\n        await tf.nextFrame();\r\n      }\r\n    }\r\n    app();\r\n  }\r\n\r\n  render() {\r\n    return [\r\n      <html>\r\n        <body>\r\n          <div id=\"console\"></div>\r\n          <video autoplay playsinline muted id=\"webcam\"></video>\r\n          <Sonido />\r\n          <button id=\"class-a\">Add A</button>\r\n          <button id=\"class-b\">Add B</button>\r\n          <button id=\"class-c\">Add C</button>\r\n        </body>\r\n      </html>\r\n    ];\r\n  }\r\n}\r\n\r\nexport default Videocam;","import { LOGIN } from \"./actions\";\r\nimport { LOGOUT } from \"./actions\";\r\n\r\nconst initialState = {\r\n  text: \"\"\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n      return {\r\n        ...state,\r\n        text: action.payload\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        text: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;","/*\r\n * action types\r\n */\r\n\r\nexport const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\n/*\r\n * action creators\r\n */\r\n\r\nexport function loginApp(payload) {\r\n  return {\r\n    type: LOGIN,\r\n    payload\r\n  };\r\n}\r\n\r\nexport function logoutApp(payload) {\r\n  return {\r\n    type: LOGOUT,\r\n    payload\r\n  };\r\n}\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  storeEnhancers\r\n});\r\n\r\nexport default store;","import React, { Component } from \"react\";\r\nimport \"./styles.css\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Menu from \"./Menu\";\r\nimport Videocam from \"./tfj.js\";\r\nimport store from \"./store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>  \r\n       <Router>\r\n        <Menu />\r\n         <Switch>\r\n          <Route path=\"/Videocam\" component={Videocam} />\r\n         </Switch>\r\n       </Router>\r\n      </Provider> \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from 'react'\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\nimport { connect } from \"react-redux\";\r\nimport { loginApp } from \"./actions\";\r\nimport { logoutApp } from \"./actions\";\r\n\r\n\r\nconst CLIENT_ID = '736950382049-22lb4jlnbuo5nt0luno6kc2cabdescum.apps.googleusercontent.com';\r\n\r\n\r\nclass GoogleBtn extends Component {\r\n   constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLogined: false,\r\n      accessToken: ''\r\n    };\r\n\r\n    this.login = this.login.bind(this);\r\n    this.handleLoginFailure = this.handleLoginFailure.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n    this.handleLogoutFailure = this.handleLogoutFailure.bind(this);\r\n  }\r\n\r\n  login (response) {\r\n    if(response.accessToken){\r\n      this.setState(state => ({\r\n        isLogined: true,\r\n        accessToken: response.accessToken\r\n      }));\r\n      const { dispatch } = this.props;\r\n      dispatch(loginApp(this.state.isLogined));\r\n    }\r\n  }\r\n\r\n  logout (response) {\r\n    this.setState(state => ({\r\n      isLogined: false,\r\n      accessToken: ''\r\n    }));\r\n    const { dispatch } = this.props;\r\n    dispatch(logoutApp(this.state.isLogined));\r\n  }\r\n\r\n  handleLoginFailure (response) {\r\n    alert('Failed to log in')\r\n  }\r\n\r\n  handleLogoutFailure (response) {\r\n    alert('Failed to log out')\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div>\r\n      { this.state.isLogined ?\r\n        <GoogleLogout\r\n          clientId={ CLIENT_ID }\r\n          buttonText='Logout'\r\n          onLogoutSuccess={ this.logout }\r\n          onFailure={ this.handleLogoutFailure }\r\n        >\r\n        </GoogleLogout>: <GoogleLogin\r\n          clientId={ CLIENT_ID }\r\n          buttonText='Login'\r\n          onSuccess={ this.login }\r\n          onFailure={ this.handleLoginFailure }\r\n          cookiePolicy={ 'single_host_origin' }\r\n          responseType='code,token'\r\n        />\r\n      }\r\n      \r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect()(GoogleBtn);","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport Iframe from \"react-iframe\";\r\nimport GoogleBtn  from \"./sigin\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nReactDOM.render(\r\n  <div>\r\n    <GoogleBtn />\r\n    <App />\r\n    <Iframe\r\n      url=\"http://127.0.0.1/moodle/login/index.php\"\r\n      width=\"100%\"\r\n      height=\"450px\"\r\n      id=\"myId\"\r\n      className=\"myClassname\"\r\n      display=\"initial\"\r\n      position=\"relative\"\r\n    />\r\n  </div>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}